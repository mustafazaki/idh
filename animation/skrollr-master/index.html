<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <title>skrollr - parallax scrolling for the masses</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="dist/jquery.nicescroll.min.js"></script>


    <!--<link href="examples/fixed-positioning.css" rel="stylesheet" type="text/css"/>-->
    <link rel="stylesheet" href="../../Common/Stylesheets/default.css"/>
    <link rel="stylesheet" href="sass/style.css"/>
</head>

<body>


<div class="span">1</div>
<div class="span">2</div>
<div class="animation" id="animation" data-emit-events>


    <h1 class="process" data-anchor-target="#animation"
        data-bottom-top="transform:scale(0);opacity:1"
        data-bottom="transform:scale(1);opacity:1"
        data--300-bottom="transform:scale(10);opacity:0"
            >PROCESS</h1>

    <h1 class="sketch-h1" data-anchor-target="#animation" data--301-bottom="opacity:0;margin-top:-80px"
        data--500-bottom="margin-top:-40px;opacity:1"
        data--1800-bottom="margin-top:-40px;opacity:1"
        data--1850-bottom="margin-top:-80px;opacity:0"
            >SKETCH</h1>

    <h1 class="render" data-anchor-target="#animation"
        data--1850-bottom="margin-top:40px;opacity:0"
        data--1940-bottom="margin-top:-40px;opacity:1"
        data--2200-bottom="margin-top:-40px;opacity:1"
            >RENDER</h1>

    <div class="sketch" data-anchor-target="#animation" data--301-bottom="opacity:0"
         data--600-bottom="opacity:1;"
         data--1800-bottom="opacity:1;"
         data--1840-bottom="opacity:0;"
            ></div>

    <div class="design" data-anchor-target="#animation"
         data--1840-bottom="opacity:0;right:5%"
         data--1940-bottom="opacity:1;right:5%"
         data--2450-bottom="opacity:1;right:5%"
         data--3450-bottom="opacity:0;right:70%"
            ></div>


    <div class="hand" data-anchor-target="#animation" data--601-bottom="right:-550px;opacity:0"
         data--800-bottom="right:-174px;opacity:1"
         data--1400-bottom="right:-64px;bottom:-50px"
         data--1800-bottom="right:59px;bottom:-10px"
         data--1850-bottom="right:59px;bottom:-10px;opacity:0"

            ></div>

    <div class="hand1" data-anchor-target="#animation"
         data--2050-bottom="right:0%;opacity:0;bottom:-90px;transform:rotate(40deg);transform-origin:50p 50p"
         data--2450-bottom="right:7%;opacity:1;bottom:-50px;transform:rotate(0deg);transform-origin:50p 50p"
         data--3000-bottom="right:40%;opacity:1;bottom:-50px;transform:rotate(0deg);transform-origin:50p 50p"
         data--3200-bottom="right:60%;opacity:0;bottom:-50px;transform:rotate(0deg);transform-origin:50p 50p"
            ></div>


    <div class="ipad" data-anchor-target="#animation"
         data--2050-bottom="left:-790px;bottom:-450px;transform:rotate(-60deg);transform-origin:50p 50p"
         data--2400-bottom="left:0px;bottom:0px;transform:rotate(0);transform-origin:50p 50p"
            >


        <div data-anchor-target="#animation" class="ipad-image ipad-image-1"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-2"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-3"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-4"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-5"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-6"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-7"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-8"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-9"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-10"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-11"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-12"></div>
        <div data-anchor-target="#animation" class="ipad-image ipad-image-13"></div>

    </div>


    <h1 class="model" data-anchor-target="#animation"
        data--2800-bottom="margin-top:40px;opacity:0"
        data--3100-bottom="margin-top:-40px;opacity:1"
            >3D MODEL</h1>


</div>
<div class="span" id="span">3</div>


<!--<script src="//localhost:35729/livereload.js"></script>-->

<script type="text/javascript">
    var animate = $("#animation");
    //    var csstop = (animate.offset().top - $(window).height());
    var topVal = (animate.offset().top );

    var newVal = topVal - 1;
    animate.attr('data-' + newVal + '', 'position:relative;');
    animate.attr('data-' + topVal + '', 'position:fixed;');


    //    for(var i=0;)
    function ipad_image() {


        var increment = 100,
                startingKeyFrame = 3100,
                hand1 = $(".ipad-image"),
                delay = 0.1;

        for (var i = 0; i < 13; i++) {

//            console.log(205 - (attrIncrement * i));

            //data--3200-bottom="opacity:0"

//            hand1.attr("data--3200-bottom", "opacity:0");
//
            var firstAttr = startingKeyFrame,
                    secondAttr = startingKeyFrame + delay,
                    thirdAttr = startingKeyFrame + increment;


            hand1.eq(i).attr("data--" + firstAttr + "-bottom", "display:none");
            hand1.eq(i).attr("data--" + secondAttr + "-bottom", "display:block");
            hand1.eq(i).attr("data--" + thirdAttr + "-bottom", "display:none");

            //  console.log(startingKeyFrame);


            startingKeyFrame = startingKeyFrame + increment;


//            console.log(startingKeyFrame + increment);

        }
    }

    //    function hand() {
    //        var increment = 400,
    //                startingKeyFrame = 3800,
    //                hand1 = $(".hand1");
    //
    //        for (var i = 0; i <18; i++) {
    //            if (i % 2 == 0) {
    //                hand1.attr("data--" + startingKeyFrame + "-bottom", "right:73%;opacity:1;bottom:-70px;transform:rotate(-15deg);transform-origin:50p 50p");
    //            }
    //            else {
    //                hand1.attr("data--" + startingKeyFrame + "-bottom", "right:66%;opacity:1;bottom:-50px;transform:rotate(0deg);transform-origin:50p 50p");
    //            }
    //            startingKeyFrame = startingKeyFrame + increment;
    //        }
    //    }
    //
    //
    //    hand();
    ipad_image();

    $(document).ready(function () {

        var nice = $("html").niceScroll({
            scrollspeed: 120

        });  // The document page (body)


        $(window).scroll(function () {
            console.log($(window).scrollTop());
            if($(window).scrollTop() === animate.offset().top){
            console.log("if");

                $("#span").css("margin-top","600px");
            }
            else{
            //console.log("else")
            }


        });

    });

</script>

<script type="text/javascript" src="dist/skrollr.min.js"></script>


<script type="text/javascript">


    var s = skrollr.init({
        edgeStrategy: 'set',
        //    forceHeight: false,
        easing: {
            vibrate: function (p) {
                return Math.sin(p * 10 * Math.PI);
            }
        },
        keyframe: function (element, name, direction) {
//            name will be one of data500, dataTopBottom, data_offsetCenter
            //    console.log(element);
            console.log(name);
            console.log(direction);
//            console.log("fn")


            console.log(animate.offset().top);


        }
    });

    console.log($(document).height())
</script>
</body>

</html>
